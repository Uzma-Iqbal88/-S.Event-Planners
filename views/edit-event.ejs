<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Event</title>
    <link rel="stylesheet" href="/css/form.css">
</head>
<body>
    <img id="back" src="/images/previous.png" alt="Back to Home">
    <div class="container">
        <h1>Edit Your Event</h1>
        <form action="/events/<%= event._id %>?_method=PUT" method="POST">
            <div class="form-group">
                <label for="event-type">Event Type:</label>
                <select id="event-type" name="eventType" required>
                    <option value="">Select Event Type</option>
                    <option value="wedding" <%= event.eventType === 'wedding' ? 'selected' : '' %>>Wedding</option>
                    <option value="birthday" <%= event.eventType === 'birthday' ? 'selected' : '' %>>Birthday Party</option>
                    <option value="farewells" <%= event.eventType === 'farewells' ? 'selected' : '' %>>Farewells</option>
                    <option value="gatherings" <%= event.eventType === 'gatherings' ? 'selected' : '' %>>Gatherings</option>
                    <option value="others" <%= event.eventType === 'others' ? 'selected' : '' %>>Other</option>
                </select>
            </div>
            <div class="form-group">
                <label for="time-slot">Preferred Time Slot:</label>
                <select id="time-slot" name="timeSlot" required>
                    <option value="">Select Time Slot</option>
                    <option value="9am" <%= event.timeSlot === '9am' ? 'selected' : '' %>>9:00 AM</option>
                    <option value="11am" <%= event.timeSlot === '11am' ? 'selected' : '' %>>11:00 AM</option>
                </select>
            </div>
            <div class="form-group">
                <label for="events">Number of Events:</label>
                <input type="number" id="events" name="events" min="1" value="<%= event.events %>" required>
            </div>
            <div class="form-group">
                <label for="date">Event Date:</label>
                <input type="date" id="date" name="date" value="<%= event.date.toISOString().split('T')[0] %>" required>
            </div>
            <div class="form-group">
                <label for="guests">Number of Guests:</label>
                <input type="number" id="guests" name="guests" min="1" value="<%= event.guests %>" required>
            </div>
            <div class="form-group">
                <label for="message">Additional Message (Optional):</label>
                <textarea id="message" name="message" rows="4" placeholder="Write any additional details here..."><%= event.message %></textarea>
            </div>
            <div style="display: flex;">
                <button id="Book" type="submit">Update Event</button>
            </form>
            <form style="margin-left: 300px;" action="/events/<%= event._id %>?_method=DELETE" method="POST" onsubmit="return confirm('Are you sure you want to delete this event?');">
                <button type="submit" class="delete-button">Delete Event</button>
            </form>
            </div>
    </div>
</body>
</html>
